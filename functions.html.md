# 函数


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

在数学中，我们接触到了函数的概念，定义为一个集合A到集合B的映射。在编程语言中也有类似的概念，也是有输入参数到输出参数的机制。它有很多好处：
\* 代码重用，可以将代码逻辑封装成函数，可以在多个地方调用。 \*
将复杂的操作分解成小的，易于理解的函数可以提高可读性。 \*
提供了一种抽象机制，有助于简化问题。 \* 促进了并发和异步编程 \*
测试将更加方便

``` python
def fib(n):
    """打印小于n的斐波拉契数列."""
    a, b = 0, 1
    while a < n:
        print(a, end=' ')
        a, b = b, a+b
    print()

fib(200)
```

以上就是一个典型的`python`函数，包括这么几个性质： \*
定义函数：使用`def`关键字，后跟函数名和括号。 \*
参数：函数可以接受参数，这些参数在括号内定义。 \*
返回值：使用`return`语句返回函数的结果。 \* 调用函数:
使用函数明加括号来调用函数。

## 参数类型

Python可以接受不同类型的参数： - 位置参数

``` python
def add(a, b):
    return a + b

result = add(3, 5)
print(result)
```

    8

- 关键字参数 通过关键字`=`对应的值这样的形式来传参。

``` python
def greet(name, greeting):
    return f"{greeting}, {name}!"

result = greet(greeting="你好", name="小明") 
print(result)
```

    你好, 小明!

- 使用
  `*args`这样的参数列表形式和`**kwargs`这样的关键字参数形式来代表可变数量的参数。

``` python
def sum_all(*args):
    return sum(args)

result = sum_all(1, 2, 3, 4) 
print(result)
```

    10

``` python
def print_info(**kwargs):
    for key, value in kwargs.items():
        print(f"{key}: {value}")

print_info(name="小明", age=25, city="北京")
```

    name: 小明
    age: 25
    city: 北京

- 默认参数
  默认参数允许在定义函数时为参数指定参数值，并且默认参数必须放在非默认参数之后。

``` python
def greet(name, greeting="你好"):
    return f"{greeting}, {name}"

result1 = greet("小明")
```

``` python
print(result1)
```

    你好, 小明

``` python
result2 = greet("小明", "早上好")
print(result2)
```

    早上好, 小明

默认参数只会计算一次，因此当默认值是可变对象时候要特别小心。

``` python
def f(a, L=[]):
    L.append(a)
    return L

print(f(1))
print(f(2))
print(f(3))
```

    [1]
    [1, 2]
    [1, 2, 3]

可以看到默认值在多次调用函数中会共享，为了避免这一情况的发生，可以改变默认值：

``` python
def f(a, L=None):
    if L is None:
        L = []
    L.append(a)
    return L
```

- 匿名函数(`lambda`)
  `lambda`函数是一种小型匿名函数，可以有任何数量的参数，但只能有一个表达式。

``` python
def square(x):
    return x ** 2

print(square(4))
```

    16

``` python
squared_lambda = lambda x: x ** 2
print(squared_lambda(4))
```

    16

``` python
numbers = [1, 2, 3 ,4, 5]
squared_numbers = list(map(lambda x: x ** 2, numbers))
print(squared_numbers)
```

    [1, 4, 9, 16, 25]

``` python
pairs = [(1, 'one'), (2, 'two'), (3, 'three'), (4, 'four')]
pairs.sort(key = lambda pair:pair[1])
print(pairs)
```

    [(4, 'four'), (1, 'one'), (3, 'three'), (2, 'two')]

**课后练习** :创建一个函数计算购物车的总价，包括折扣等。
